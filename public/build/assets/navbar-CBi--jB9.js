document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("user-menu-button"),t=document.getElementById("user-dropdown");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("hidden"),this.setAttribute("aria-expanded","true"===this.getAttribute("aria-expanded")?"false":"true")}),document.addEventListener("click",function(n){e.contains(n.target)||t.contains(n.target)||(t.classList.add("hidden"),e.setAttribute("aria-expanded","false"))}));const n=document.getElementById("theme-toggle");n&&("dark"===localStorage.getItem("color-theme")||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),n.addEventListener("click",function(){document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?localStorage.setItem("color-theme","dark"):localStorage.setItem("color-theme","light")}));const d=document.querySelector('button[aria-label="Search"]'),o=document.getElementById("search");d&&o&&d.addEventListener("click",function(){o.classList.toggle("hidden"),o.focus()})});
